<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>COMPUTER SECURITY</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
  <link rel="stylesheet" href="reveal.js/css/reveal.min.css"/>
    <style type="text/css">code{white-space: pre;}</style>
    <link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">
  <link rel="stylesheet" media="print" href="reveal.js/css/print/pdf.css" />
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">COMPUTER SECURITY</h1>
  <h1 class="subtitle">計算機安全</h1>
    <h3 class="date"></h3>
</section>

<section><section id="本日任務" class="titleslide slide level1"><h1>本日任務</h1></section><section id="本日任務-1" class="slide level2">
<h1>本日任務</h1>
<ul>
<li>講解課程內容</li>
<li>作業、評分標準</li>
<li>加簽</li>
<li>把人嚇跑</li>
</ul>
</section><section id="warning" class="slide level2">
<h1>Warning</h1>
<ul>
<li>不是正規的資安課</li>
<li>計算機結構、網路的內容很多</li>
<li>作業頗重</li>
</ul>
</section></section>
<section><section id="講師介紹" class="titleslide slide level1"><h1>講師介紹</h1></section><section id="section" class="slide level2">
<h1></h1>
<figure>
<img src="images/hitcon.jpg" alt="Team HITCON @ DEFCON 22" /><figcaption>Team HITCON @ DEFCON 22</figcaption>
</figure>
</section><section id="section-1" class="slide level2">
<h1></h1>
<center>
<table>
<tr><td>
<img src="images/sean.png" />
</td><td style="vertical-align:middle">
<ul>
<li>吳哲仰 (Sean)</li>
<li>台大資工碩二</li>
<li>Team <a href="http://217.logdown.com/">217</a></li>
<li>Software security
</td></tr>
</table>
</center>
</li>
</ul>
</section><section id="section-2" class="slide level2">
<h1></h1>
<center>
<table>
<tr><td>
<img src="images/shik.png" />
</td><td style="vertical-align:middle">
<ul>
<li>陳庭緯 (Shik)</li>
<li>台大資工碩一</li>
<li>Team <a href="http://217.logdown.com/">217</a></li>
<li>Cryptography
</td></tr>
</table>
</center>
</li>
</ul>
</section><section id="section-3" class="slide level2">
<h1></h1>
<center>
<table>
<tr><td>
<img src="images/orange.jpg" />
</td><td style="vertical-align:middle">
<ul>
<li>蔡政達 (Orange)</li>
<li><del>天大地大</del>台科大碩一</li>
<li><a href="http://blog.orange.tw/">Blog</a></li>
<li>Web security
</td></tr>
</table>
</center>

</li>
</ul>
</section></section>
<section><section id="課程目標" class="titleslide slide level1"><h1>課程目標</h1></section><section id="遠大的目標" class="slide level2">
<h1>遠大的目標</h1>
<ul>
<li>了解到 Bug 無所不在，之後能少寫一點</li>
<li>實作攻擊技術 <del>攻擊是最好的防禦</del></li>
<li>DEFCON 預備軍</li>
</ul>
</section><section id="epic-fail" class="slide level2">
<h1>Epic Fail</h1>
<pre class="cpp"><code>        OSStatus        err;
        ...

        if ((err = SSLHashSHA1.update(&amp;hashCtx, &amp;serverRandom)) != 0)
                goto fail;
        if ((err = SSLHashSHA1.update(&amp;hashCtx, &amp;signedParams)) != 0)
                goto fail;
                goto fail;
        if ((err = SSLHashSHA1.final(&amp;hashCtx, &amp;hashOut)) != 0)
                goto fail;
        ...

fail:
        SSLFreeBuffer(&amp;signedHashes);
        SSLFreeBuffer(&amp;hashCtx);
        return err;</code></pre>
</section><section id="section-4" class="slide level2">
<h1></h1>
<figure>
<img src="images/1.jpg" />
</figure>
</section><section id="東方神祕力量" class="slide level2">
<h1>東方神祕力量</h1>
<figure>
<img src="images/mystery.jpg" />
</figure>
</section><section id="misc" class="slide level2">
<h1>Misc</h1>
<ul>
<li>Plugin 外掛</li>
<li>Driver 逆向工程</li>
<li>Android ROOT, iOS Jailbreak</li>
</ul>
</section></section>
<section><section id="start-hacking" class="titleslide slide level1"><h1>START HACKING</h1></section><section id="hacker" class="slide level2">
<h1>Hacker</h1>
<ul>
<li><em>對電腦科學、編程和設計方面具高度理解的人</em></li>
<li><em>熱衷於研究系統和計算機 (特別是網路) 內部運作的人</em></li>
</ul>
</section><section id="本課程範圍" class="slide level2">
<h1>本課程範圍</h1>
<ul>
<li>Software security</li>
<li>Web security</li>
<li>Cryptography</li>
<li>各種 geek skills</li>
</ul>
</section><section id="software-security" class="slide level2">
<h1>Software Security</h1>
<ul>
<li>Control-flow hijack</li>
<li>Information leakage</li>
<li>Logical vulnerability</li>
</ul>
</section><section id="web-security" class="slide level2">
<h1>Web Security</h1>
<ul>
<li>Web server side vulnerabilities</li>
<li>features &amp; vulnerabilities</li>
<li>Injection flaw</li>
</ul>
</section><section id="cryptography" class="slide level2">
<h1>Cryptography</h1>
<ul>
<li>Classical cipher &amp; crack</li>
<li>Public-key cryptography</li>
<li>Hash</li>
<li><a href="https://ceiba.ntu.edu.tw/1031Crypto">密碼學專題</a>超濃縮版</li>
</ul>
</section></section>
<section><section id="hack-the-service" class="titleslide slide level1"><h1>HACK THE SERVICE</h1></section><section id="control-flow-hijack" class="slide level2">
<h1>Control-flow Hijack</h1>
<ul>
<li>利用 (exploit) 漏洞 (vulnerability) 控制程式本身，做出非原本預期的行為</li>
<li>利用 buffer overflow 蓋掉..
<ul>
<li>Return address, function pointer, vtable, etc.</li>
<li>跳到 shellcode 上執行</li>
</ul></li>
<li>Format string attack
<ul>
<li>任意讀取、寫入，一樣可以控制程式流程</li>
</ul></li>
</ul>
</section><section id="shellcode" class="slide level2">
<h1>Shellcode</h1>
<ul>
<li>現在主流的計算機架構中，data 和 code 都是混在一起的</li>
<li>適當的 data 也可以當 code 跑</li>
<li>基本上就是 assembler 生成的 binary code</li>
</ul>
</section><section id="對應-defense" class="slide level2">
<h1>對應 defense</h1>
<ul>
<li>Stack overflow → Stack guard
<ul>
<li>Heap 在 GLIBC 裡的保護現在是一坨屎</li>
</ul></li>
<li>「跳」到想要執行的位址 → ASLR</li>
<li>執行任意 shellcode → DEP/NX bit</li>
<li>讓 exploit 難度增加，漏洞便不成破綻</li>
</ul>
</section><section id="stack-guard" class="slide level2">
<h1>Stack guard</h1>
<ul>
<li>進 function 時先放個渣渣在 stack frame 最高處</li>
<li>Return 前檢查有沒有被蓋掉</li>
<li>如果可以先洩漏出渣渣的值就可以騙過檢查</li>
</ul>
<pre class="no-highlight"><code>
Low address                                                 High address
          callee                            caller
         |---------------------------------|----------------------------
               Buffer                Canary
               AAAAAAAAAAAAAAAAA .....

</code></pre>
<p>Stack Layout</p>
</section><section id="aslr" class="slide level2">
<h1>ASLR</h1>
<ul>
<li>位址空間配置隨機載入</li>
<li>Code, data, shared-library 的位址每次執行會變
<ul>
<li>Try <code>int a; printf(&quot;%p&quot;, &amp;a);</code></li>
</ul></li>
<li>有機會洩漏位址 (information leakage)</li>
<li>且不一定要拿到 base address 也有辦法跳到正確位址上</li>
</ul>
</section><section id="depnx-bit" class="slide level2">
<h1>DEP/NX bit</h1>
<ul>
<li>不能執行 shellcode，那就執行原本正常功能的 code
<ul>
<li>ret2text</li>
<li>ret2libc</li>
</ul></li>
<li>返回導向程式設計 (ROP)</li>
</ul>
</section></section>
<section><section id="capture-the-flag" class="titleslide slide level1"><h1>CAPTURE THE FLAG</h1></section><section id="capture-the-flag-1" class="slide level2">
<h1>Capture The Flag</h1>
<ul>
<li>ACM-ICPC 之於<strong>程式結構與設計</strong></li>
<li>KDD Cup 之於<strong>機器學習理論與實務</strong></li>
<li>CTF 是比 hacking 技術的比賽</li>
</ul>
</section><section id="flag-型式" class="slide level2">
<h1>Flag 型式</h1>
<ul>
<li>通常是個明顯的字串，submit 後可獲得一定分數</li>
<li>放在 server 上，想辦法利用服務的漏洞拿到</li>
<li>密文要加密</li>
<li>側錄到的封包、特殊的檔案系統</li>
</ul>
</section><section id="jeopardy" class="slide level2">
<h1>Jeopardy</h1>
<ul>
<li>解題比賽</li>
<li>24 ~ 48 小時，比時限內得分</li>
<li>帶有漏洞的 service；可破解的 encryption</li>
<li>入侵或破解後就有辦法拿到 flag</li>
</ul>
</section><section id="attack-defense" class="slide level2">
<h1>Attack-defense</h1>
<ul>
<li>每隊會拿到帶有漏洞的 service</li>
<li>除了互相攻擊外，也可以修補自己的 service</li>
<li>Flag 每回合更新</li>
<li>攻擊成功則得分，被攻擊方會失分</li>
</ul>
</section><section id="our-ctf-team" class="slide level2">
<h1>Our CTF Team</h1>
<ul>
<li>217
<ul>
<li>百度杯 - 1st Place</li>
</ul></li>
<li>HITCON
<ul>
<li>Defcon - 2nd Place</li>
</ul></li>
<li>很多 online jeopardy 競賽</li>
</ul>
</section><section id="section-5" class="slide level2">
<h1></h1>
<figure>
<img src="images/bctf_trend.png" alt="BCTF" /><figcaption>BCTF</figcaption>
</figure>
</section><section id="section-6" class="slide level2">
<h1></h1>
<figure>
<img src="images/defcon_rank.png" alt="DEFCON 22" /><figcaption>DEFCON 22</figcaption>
</figure>
</section><section id="our-ctf-game" class="slide level2">
<h1>Our CTF game</h1>
<figure>
<img src="images/hitcon_ctf.png" alt="HITCON CTF 2014" /><figcaption>HITCON CTF 2014</figcaption>
</figure>
</section><section id="人才招募" class="slide level2">
<h1>人才招募</h1>
<ul>
<li>台灣玩 CTF 的人很少，這次去 Defcon 的有 15 人</li>
<li>國外強隊有幾十人在 Defcon 外場 &amp; 幾十人遠端同步進行</li>
<li>人數就是力量</li>
</ul>
</section></section>
<section><section id="評分標準" class="titleslide slide level1"><h1>評分標準</h1></section><section id="評分標準-1" class="slide level2">
<h1>評分標準</h1>
<ul>
<li><del>起分 60 分的零和 Attack-defense (100%)</del></li>
</ul>
<div class="fragment">
<ul>
<li>個人作業 (40%)</li>
<li>團體作業 (30%)</li>
<li>期末考 (30%)</li>
<li>額外加分</li>
</ul>
</div>
</section><section id="個人作業" class="slide level2">
<h1>個人作業</h1>
<ul>
<li>Weekly</li>
<li>與當次上課內容相關</li>
<li>可討論，但需獨立完成</li>
</ul>
</section><section id="團體作業" class="slide level2">
<h1>團體作業</h1>
<ul>
<li>Bi-weekly</li>
<li>每組只需繳交一份</li>
<li>過去 online CTF 題目</li>
<li>早點開始分組比較好，每組限定 ≤ 5人</li>
</ul>
</section><section id="期末考" class="slide level2">
<h1>期末考</h1>
<ul>
<li>可能是個 Attack-defense</li>
<li>Report 佔大部份分數</li>
<li>可能和交大合辦</li>
</ul>
</section><section id="額外加分" class="slide level2">
<h1>額外加分</h1>
<ul>
<li>課堂表現</li>
<li><a href="https://ctftime.org">CTFtime.org</a> or 其它比賽</li>
</ul>
</section></section>
<section><section id="加簽方式" class="titleslide slide level1"><h1>加簽方式</h1></section><section id="取得授權碼" class="slide level2">
<h1>取得授權碼</h1>
<ul>
<li>完成 <a href="https://csie.ctf.tw/">Homework 0x00</a></li>
<li>完成某個指定題 (TBD)</li>
<li>一直盧</li>
<li><del>自助式加簽</del></li>
<li><del>物理攻擊</del></li>
</ul>
</section></section>
<section><section id="聯絡助教" class="titleslide slide level1"><h1>聯絡助教</h1></section><section id="irc" class="slide level2">
<h1>IRC</h1>
<figure>
<img src="images/irc.png" alt="irc.freenode.net #csie-ctf" /><figcaption>irc.freenode.net #csie-ctf</figcaption>
</figure>
</section><section id="irssi" class="slide level2">
<h1>irssi</h1>
<ul>
<li>/connect irc.freenode.net</li>
<li>/join csie-ctf</li>
<li>/m someone something</li>
<li>Alt + num 切換視窗</li>
<li>/wc 關閉視窗</li>
<li>/quit (理論上用不到)</li>
</ul>
</section><section id="mail" class="slide level2">
<h1>Mail</h1>
<ul>
<li>ctf@csie.ntu.edu.tw</li>
</ul>
</section><section id="office-hour" class="slide level2">
<h1>Office Hour</h1>
<ul>
<li>另約時間</li>
<li>高機率出現在 R217</li>
</ul>
</section></section>
<section><section id="next-week" class="titleslide slide level1"><h1>NEXT WEEK</h1></section><section id="execution-on-x86-linux" class="slide level2">
<h1>Execution on x86 Linux</h1>
<ul>
<li>Assembly</li>
<li>ELF binary format</li>
<li>Calling convention</li>
</ul>
</section><section id="預備技能-tools" class="slide level2">
<h1>預備技能 &amp; Tools</h1>
<ul>
<li>gdb</li>
<li>readelf</li>
<li>objdump</li>
<li>IDA</li>
<li>binary patching</li>
<li>scripting</li>
</ul>
</section><section id="gdb" class="slide level2">
<h1>gdb</h1>
<ul>
<li>set disassembly-flavor intel</li>
<li>r, b, c, k, q</li>
<li>at</li>
<li>n, s, ni, si</li>
<li>p, x/bx, x/wx, x/gx, x/s</li>
<li>layout asm, layout reg</li>
<li>info</li>
<li>record, record stop, rc, rni, rsi</li>
</ul>
</section><section id="readelf-objdump" class="slide level2">
<h1>readelf &amp; objdump</h1>
<ul>
<li>readelf -a</li>
<li>objdump -M intel -D</li>
</ul>
</section><section id="ida" class="slide level2">
<h1>IDA</h1>
<p><img src="images/ida.png" /> <a href="https://www.hex-rays.com/products/ida/support/download.shtml">Hex-Rays IDA Pro</a></p>
</section><section id="binary-patching" class="slide level2">
<h1>Binary Patching</h1>
<ul>
<li>vim + %!xxd</li>
<li><a href="http://hte.sourceforge.net/">ht</a></li>
<li>hexedit</li>
</ul>
</section><section id="scripting" class="slide level2">
<h1>Scripting</h1>
<ul>
<li>Exploit 要寫 script</li>
<li>能接 socket</li>
<li>好做字串處理</li>
<li>推薦 Python or Ruby</li>
</ul>
</section></section>
<section><section id="qa" class="titleslide slide level1"><h1>Q&amp;A</h1></section></section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.min.js"></script>

  <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        theme: 'my', // available themes are in /css/theme
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
//          { src: 'reveal.js/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; }, }
//          { src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
]});
    </script>
  </body>
</html>
